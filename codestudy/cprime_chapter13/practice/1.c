// ------------------------------
// 题干：1. 修改程序清单13.1中的程序，要求提示用户输入文件名，并读取用户输入的信息，不使用命令行参数。
// 知识要点：
//  1. 文件IO操作（fopen/fclose/fgetc）
//  2. 标准输入（scanf读取文件名）
//  3. EOF判断与循环读取
// 总体逻辑：
//  1. 提示并读取文件名 → 2. 打开文件 → 3. 逐字符读文件内容并输出 → 4. 关闭文件
#include <stdio.h>

int main() {
    char filename[100];
    printf("请输入要读取的文件名：");
    scanf("%s", filename); // 读取文件名（注意：不支持空格）
    
    FILE *fp = fopen(filename, "r"); // 文本只读模式打开
    if (fp == NULL) { // 检查打开失败
        printf("无法打开文件 %s\n", filename);
        return 1;
    }
    
    int ch;
    while ((ch = fgetc(fp)) != EOF) { // 逐字符读，直到文件结束
        putchar(ch); // 输出到屏幕
    }
    
    fclose(fp); // 关闭文件
    return 0;
}

// 测试验证方案：
//  1. 运行：编译后输入存在的文本文件名（如test.txt）
//  2. 预期：屏幕显示文件全部内容
//  3. 检查：内容是否完整，无乱码
// 易错点提醒：
//  1. scanf无法读带空格的文件名（可改用fgets）
//  2. 忘记检查fopen返回值，导致空指针访问
// 拓展思考：
//  1. 大文件逐字符读效率低，如何改进？（用fgets逐行读）