// ------------------------------
// 题干：块作用域变量具有什么链接属性？
// 知识要点：
//  1. 块作用域：函数内、if/for的{}里定义的变量 
//  2. 链接属性：无链接（no linkage）→ 不能被其他文件或同一文件的其他函数/块通过“名称”访问 
// 总体逻辑：
//  1. 在main的块里定义auto和static变量 
//  2. 尝试在另一个函数里访问它们，观察编译报错（证明无链接） 
#include <stdio.h>

void other_func() {
    // 尝试访问main里的块变量，会编译报错：“未定义的标识符”
    // printf("访问auto_var：%d\n", auto_var);
    // printf("访问static_var：%d\n", static_var);
}

int main() {
    auto int auto_var = 10;   // 块作用域的auto变量（默认，可省略auto）
    static int static_var = 20;// 块作用域的静态变量（存储期静态，但链接属性无链接）
    
    printf("main内访问：auto_var=%d, static_var=%d\n", auto_var, static_var);
    
    other_func();  // 调用函数，尝试访问main的块变量（会报错，因为无链接）
    
    return 0;
}

// 测试验证方案：
//  1. 怎么运行：
//     - 先注释other_func里的访问代码，编译运行（看main内输出） 
//     - 再取消注释，重新编译（观察报错） 
//  2. 预期结果：
//     - 注释时：输出“main内访问：10,20” 
//     - 取消注释：编译报错（提示auto_var、static_var未定义） 
//  3. 检查点：报错证明块作用域变量无法被外部函数访问→无链接属性 
// 易错点提醒：
//  1. 误以为块里的static变量“全局可用”，其实它只是值保留，作用域仍在块内，且外部无法通过名称访问 
// 拓展思考：
//  1. 如果在if的{}里定义static变量，外部块能访问吗？比如if里写static int x=0; 外面打印x（会报错，因为作用域限制） 
// 对比说明：
//  块作用域的auto和static变量： 
//  - 存储期：auto在栈（自动存储），static在全局区（静态存储） 
//  - 链接属性：**都为无链接**（不管是否static，块里的变量都不能被外部通过名称访问） 
//  - 作用域：都限于所在块（及嵌套块），外部块/函数无法访问 