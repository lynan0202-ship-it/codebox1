/*以下内容围绕 **“C 语言输入输出重定向与基础文件操作”** 展开，包含问题要点、知识点梳理，以及对应代码示例 + 详细注释，
帮初学者理解如何用 C 实现文件内容读取（类似命令行重定向的效果 ），还有基础的用户交互逻辑：

---

### 一、【问题与知识点总结】  
#### 1. 核心问题  
- 理解 **“输入输出重定向”** 本质：让程序从文件读数据（替代键盘输入）、往文件写数据（替代屏幕输出），或者像命令行那样把一个程序输出连到另一个程序输入。  
- 用 **C 语言文件操作** 实现类似效果：通过 `fopen` `fgetc` `fputc` 等函数，读取文件内容并处理（比如统计字符、打印内容）。  
- 简单 **用户交互程序** 思路：用 `scanf` `printf` 做基础输入输出，处理简单逻辑（比如猜数字、判断输入）。  

#### 2. 涉及知识点  
| 分类          | 关键知识点                                                                 |  
|---------------|--------------------------------------------------------------------------|  
| 文件操作      | `FILE *` 指针、`fopen`（打开文件）、`fclose`（关闭文件）、`fgetc`（读字符）、`fputc`（写字符） |  
| 重定向思想    | 程序数据来源/去向可灵活替换（文件 ↔ 标准输入输出）                                 |  
| 基础输入输出  | `scanf`（格式化输入）、`printf`（格式化输出）、`getchar`/`putchar`（字符读写）          |  
| 流程控制      | `if` 条件判断、`while` 循环、`break`/`continue` 控制流程                             |  


---

### 二、【代码示例 1：文件内容读取（模拟输入重定向）】  
**功能**：从文件读取内容，逐字符打印到屏幕，同时统计字符数量（类似把文件内容“重定向”给程序处理）。  

```c
*/
/* 
 * 代码功能：
 * 1. 让用户输入文件名，尝试打开文件
 * 2. 逐字符读取文件内容，打印到屏幕（模拟输入重定向效果）
 * 3. 统计并输出文件总字符数
 * 
 * 知识点覆盖：文件打开/关闭、fgetc 读字符、基础流程控制
 */

#include <stdio.h>   // 提供文件操作（fopen/fgetc 等）和标准输入输出（printf/scanf 等）函数  
#include <stdlib.h>  // 提供 exit 函数，用于异常退出  

int main() {
    // 1. 定义变量  
    char filename[100];  // 存用户输入的文件名  
    FILE *fp;            // 文件指针，用来关联打开的文件  
    int ch;              // 存读取到的字符（用 int 能判断 EOF，比 char 更安全）  
    int count = 0;       // 统计文件字符数量  

    // 2. 让用户输入文件名  
    printf("请输入要读取的文件名（比如 test.txt）：");
    scanf("%s", filename);  // 简单读取文件名（假设无空格，有空格需用 fgets 处理）  

    // 3. 打开文件："r" 表示以【只读】模式打开文本文件  
    fp = fopen(filename, "r");  
    if (fp == NULL) {  // 判断文件是否成功打开  
        printf("错误！无法打开文件 %s，请检查文件是否存在或权限是否正确。\n", filename);  
        // 打开失败时，直接退出程序（非 0 返回值表示异常）  
        exit(1);  
    }  

    // 4. 逐字符读取文件内容，直到遇到文件末尾（EOF）  
    printf("\n文件内容如下：\n");  
    while ((ch = fgetc(fp)) != EOF) {  
        putchar(ch);  // 把读取到的字符输出到屏幕  
        count++;      // 统计字符数量  
    }  

    // 5. 关闭文件（用完必须关，否则可能丢失数据或占资源）  
    fclose(fp);  

    // 6. 输出统计结果  
    printf("\n\n文件 %s 读取完成，总共有 %d 个字符。\n", filename, count);  

    return 0;  
}  
/*
```  

**代码注释细节**：  
- `fopen(filename, "r")`：`"r"` 是“只读模式”，如果文件不存在/无法访问，返回 `NULL`，必须判断！  
- `fgetc(fp)`：从 `fp` 关联的文件里读 1 个字符，返回值是 `int` 而非 `char`（为了能识别 `EOF`）。  
- `EOF`：“文件结束标志”，不同系统实现不同，但在 C 里统一用它判断文件是否读完。  


---
*/
