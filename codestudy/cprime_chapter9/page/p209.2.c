/* 
知识要点总结（在原有基础上新增）：
1. 函数参数传递：学会定义带参数的函数，把数组和长度等数据传递给函数处理，理解数组名作为参数传递的本质（传递数组首地址）。
2. 函数功能拓展：在已有简单函数基础上，实现更贴近书中例子的功能（处理一组数字相关操作），体会函数如何协作完成复杂任务。

代码总体逻辑说明（拓展后）：
在原来基础上，新增 `readNumbers` 函数用于读取用户输入的一组数字存入数组，main 函数调用它来获取数据，后续还可继续添加 sort（排序）、average（算平均值 ）、bargraph（打印柱状图 ）等函数，逐步构建成书中示例那样的完整程序，通过函数调用把各个功能串联起来，体现模块化处理数字任务的流程。
*/

#include <stdio.h>
#define SIZE 5  // 定义数组大小，方便后续修改

// 原来的 starbar 函数，保持不变，用于打印星号栏
void starbar(void) {
    int count;  
    for (count = 1; count <= 40; count++) {
        putchar('*');  
    }
    putchar('\n');  
}

// 新增 readNumbers 函数，功能是让用户输入 SIZE 个数字，存入数组
// 参数 arr 是数组名（实际传递的是数组首地址），size 是数组长度
void readNumbers(float arr[], int size) {
    int i;
    printf("请输入 %d 个数字，用空格或回车分隔：\n", size);
    for (i = 0; i < size; i++) {  // 循环 size 次，接收用户输入
        // %f 用来读取浮点数，把用户输入的值存入数组对应位置
        scanf("%f", &arr[i]);  
    }
}

// main 函数是程序的入口，程序从这里开始执行
int main(void) {
    float numbers[SIZE];  // 定义一个 float 类型数组，用来存用户输入的数字
    printf("这是一个展示函数用法的程序示例，可处理一组数字哟~\n");
    starbar();  // 调用 starbar 函数，打印星号栏
    // 调用 readNumbers 函数，把 numbers 数组和它的长度 SIZE 传过去，让用户输入数据
    readNumbers(numbers, SIZE);  
    printf("已成功读取 %d 个数字，后续可继续添加函数处理这些数字（排序、算平均值等）~\n", SIZE);
    return 0;  // main 函数返回 0，表示程序正常结束
}

/* 
代码测试及验证建议方案（拓展后新增部分）：
1. 输入功能测试：
   - 运行程序，按照提示输入数字（比如输入 5 个：1.2 3.4 5.6 7.8 9.0 ），看是否能正常接收并存储。可以在 readNumbers 函数里添加打印语句（比如循环打印 arr[i] ），验证输入是否正确存入数组，检验函数参数传递和输入功能是否正常。
   - 故意输入非数字内容（比如输入字母），看程序会有什么反应（可能出现错误或异常值 ），理解输入函数对数据格式要求，这是使用 scanf 时的易错点，后续可考虑添加输入验证优化。
2. 函数协作测试：
   - 后续添加 sort 函数（对 numbers 数组排序 ），在 main 函数里调用 readNumbers 后接着调用 sort 函数，然后打印数组，看排序是否正确，检验多函数协作处理数据的流程是否顺畅。
3. 模块化与拓展性验证：
   - 尝试自己按照书中思路，添加 average 函数（计算数组平均值 ）、bargraph 函数（打印柱状图展示数据 ），看能否顺利把新函数融入现有程序，检验代码模块化设计是否方便拓展功能，是否符合书中强调的用函数组织程序的思想。 
*/