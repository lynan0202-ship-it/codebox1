// ------------------------------
// 题干：编写一个函数，返回存储在 double 类型数组中最大值和最小值的差值，并在一个简单的程序中测试该函数。
// 知识要点：
//  1. 数组遍历：通过循环逐个比较元素，找出最大值和最小值
//  2. 函数返回值：计算并返回最大值与最小值的差值
//  3. 边界处理：考虑数组为空或只有一个元素的情况
// 总体逻辑：
//  1. 主函数中初始化测试数组，计算数组长度
//  2. 调用差值计算函数，传入数组和长度
//  3. 函数内部遍历数组，找出最大值和最小值，计算并返回差值
#include <stdio.h>
// 计算最大值和最小值差值的函数
double calcDiff(const double arr[], int len) {
    if (len <= 0) {
        // 数组为空时，返回特殊值表示错误，这里返回 -1.0（实际可根据需求调整）
        return -1.0; 
    }
    double maxVal = arr[0];
    double minVal = arr[0];
    for (int i = 1; i < len; i++) {
        if (arr[i] > maxVal) {
            maxVal = arr[i];
        }
        if (arr[i] < minVal) {
            minVal = arr[i];
        }
    }
    return maxVal - minVal;
}
int main() {
    // 初始化测试数组
    double arr[] = {1.2, 3.4, 5.6, 2.1, 4.3};
    // 计算数组长度
    int len = sizeof(arr) / sizeof(arr[0]); 
    // 调用函数计算差值
    double diff = calcDiff(arr, len); 
    printf("最大值和最小值的差值为：%.2f\n", diff);
    return 0;
}
// 测试验证方案：
//  1. 怎么运行：编译代码（如使用 gcc 命令：gcc -o test test.c ，然后运行 ./test ）
//  2. 预期结果：对于数组{1.2, 3.4, 5.6, 2.1, 4.3}，最大值是5.6，最小值是1.2，差值为4.4，应输出4.40
//  3. 检查点：看输出的差值是否正确，可修改数组元素重新测试
// 易错点提醒：
//  1. 容易忘记处理数组长度为0的情况，导致程序出错
//  2. 计算差值时，可能会因类型转换等问题出现精度误差，这里用double类型可减少误差
// 拓展思考：
//  1. 如果数组元素是整数类型，怎么修改代码？主要是类型声明的调整
//  2. 如何让函数同时返回最大值和最小值，而不仅仅是差值？可以使用结构体来返回多个值
// 对比说明：
//  - 本题中函数返回差值，是基于找到最大值和最小值后计算得到。与单纯找最大值或最小值的函数相比，多了一次遍历比较（找最小值）的过程，逻辑上是两次单值查找的结合