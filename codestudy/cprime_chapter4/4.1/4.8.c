// floats.c -- 一些浮点型修饰符的组合
#include <stdio.h>

int main(void)
{
    // 定义一个 const 修饰的 double 类型变量，值不可修改
    const double RENT = 3852.99;  // const 变量

    // 1. %f 格式说明：
    //    - 默认显示 6 位小数
    //    - 字段宽度由实际数值长度 + 小数位数自动确定
    //    - 输出结果会包含完整的整数部分和 6 位小数
    printf("*%f*\n", RENT);

    // 2. %e 格式说明：
    //    - 科学计数法显示（尾数 + 指数）
    //    - 默认尾数部分显示 6 位小数，指数部分带符号
    //    - 例如：3.852990e+03 表示 3.852990 × 10³
    printf("*%e*\n", RENT);

    // 3. %4.2f 格式说明：
    //    - 4 是字段总宽度（包含整数、小数点、小数部分）
    //    - .2 是小数部分显示位数（会自动四舍五入）
    //    - 由于 3852.99 整数部分是 4 位，加上 . 和 2 位小数共 7 位，超过指定宽度 4，会自动扩展宽度保证显示完整
    printf("*%4.2f*\n", RENT);

    // 4. %3.1f 格式说明：
    //    - 3 是字段总宽度（包含整数、小数点、小数部分）
    //    - .1 是小数部分显示位数（会自动四舍五入）
    //    - 3852.99 整数部分 4 位 + .1 位小数，总长度超过 3，自动扩展宽度显示完整
    printf("*%3.1f*\n", RENT);

    const double OENT = 38.525874;  

    // 1. %f 格式：定点小数显示，默认保留 6 位小数
    //    - 输出规则：整数部分完整显示，小数部分补 0 到 6 位
    //    - 实际输出：38.525874（因为原始值小数部分不足 6 位时自动补 0 凑够 6 位）
    printf("*%f*\n", OENT);

    // 2. %e 格式：科学计数法显示
    //    - 输出规则：尾数部分保留 6 位小数，指数部分带符号（格式为 x.xxxxxxe±nn）
    //    - 实际计算：38.525874 = 3.8525874 × 10^1 → 规范化为 3.852587e+01（尾数保留 6 位小数）
    printf("*%e*\n", OENT);

    // 3. %4.2f 格式：总字段宽度 4，小数部分保留 2 位
    //    - 字段宽度规则：如果数值实际宽度（整数+小数点+小数）超过指定宽度，自动扩展显示完整
    //    - 计算实际长度：38.53（四舍五入后） → 整数部分 2 位 + . + 2 位小数 = 5 位，超过指定宽度 4，所以按实际显示
    //    - 输出结果：38.53（四舍五入后的值，因原数小数第三位是 5，第二位 2 进 1 变为 3 ）
    printf("*%4.2f*\n", OENT);

    // 4. %3.1f 格式：总字段宽度 3，小数部分保留 1 位
    //    - 字段宽度规则：数值实际宽度（38.5 → 整数 2 位 + . + 1 位小数 = 4 位）超过指定宽度 3，自动扩展显示
    //    - 四舍五入规则：小数第二位是 2，小于 5，所以第一位小数 5 不变
    //    - 输出结果：38.5（四舍五入后的值）
    printf("*%3.1f*\n", OENT);

    return 0;
}