
// ------------------------------
// 题干：2. 修改题1函数，在n个字符或遇到空白/制表/换行时停止（先到先停）。  
// 知识要点：  
//  1. 多条件循环：同时判断字符数和终止符  
//  2. 字符分类：识别空格、制表、换行  
//  3. 输入控制：灵活终止读取逻辑  
// 总体逻辑：  
//  1. 函数循环读字符，遇终止符或读够n个则停  
//  2. 给数组加'\0'，主函数输出结果  

#include <stdio.h>

// 读取字符，遇空白/制表/换行或n个则停，返回实际读取数
int read_until_blank(char *arr, int n) {
    int cnt = 0;
    char ch;
    while (cnt < n) {
        ch = getchar();
        if (ch == ' ' || ch == '\t' || ch == '\n') break; // 遇终止符
        arr[cnt++] = ch;
    }
    arr[cnt] = '\0'; // 字符串结束符
    return cnt;
}

int main() {
    char buf[20];
    int n = 10;
    printf("输入字符（遇空白/读够10个停）：\n");
    int len = read_until_blank(buf, n);
    
    printf("读取% d个字符：%s\n", len, buf);
    return 0;
}

// 测试验证方案：  
//  1. 运行：输入"abc def"（空格处停，读3个）；输入"1234567890"（读10个）  
//  2. 预期：输出符合终止条件的字符数和内容  
//  3. 检查点：终止符触发、n生效、数组含'\0'  
// 易错点提醒：  
//  1. 忘记加'\0'：后续用%s输出会乱码  
//  2. 终止符判断遗漏（如忘判'\t'）  
// 拓展思考：  
//  1. 如何让用户自定义终止符？传入终止符集合 